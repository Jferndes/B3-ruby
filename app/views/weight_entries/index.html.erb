<div class="container mx-auto py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-4xl font-bold text-teal-700">Trackeuse de Poids</h1>
  </div>

  <div class="mb-4">
    <%= line_chart @weight_entries.map { |entry| [entry.date, entry.weight] } %>
  </div>

  <div class="flex justify-end mb-4">
    <%= link_to "Ajouter une nouvelle entrée", new_weight_entry_path, 
      class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
  </div>

  <div class="overflow-x-auto">
    <table class="min-w-full bg-white shadow-md rounded-lg">
      <thead>
        <tr>
          <th class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal px-6 py-3 text-left">Date</th>
          <th class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal px-6 py-3 text-left">Poids (kg)</th>
          <th class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal px-6 py-3 text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @weight_entries.each do |entry| %>
          <tr class="border-b border-gray-200 hover:bg-gray-100">
            <td class="px-6 py-3 text-left text-gray-600 font-light"><%= entry.date.strftime("%d/%m/%Y") %></td>
            <td class="px-6 py-3 text-left text-gray-600 font-light"><%= entry.weight %></td>
            <td class="px-6 py-3 text-center">
              <%= link_to "Voir", weight_entry_path(entry), class: "text-blue-500 hover:underline" %><br>
              <%= link_to "Modifier", edit_weight_entry_path(entry), class: "text-green-500 hover:underline" %><br>
              <%= button_to "Supprimer", weight_entry_path(entry), method: :delete, data: { turbo_confirm: "Êtes-vous sûr ?" }, class: "text-red-500 hover:underline" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
